<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pnoy Dishcovery - Recipes</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Additional CSS to adjust image size */
        .recipe-card img {
            width: 250px;
            height: 200px;
            object-fit: cover; /* Maintain aspect ratio and crop if necessary */
            border-radius: 8px 8px 0 0; /* Add border radius to match card corners */
        }
        .add-recipe-button {
            margin-top: 20px;
            margin-left: 20px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 999;
        }
        .popup-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            max-width: 80%; /* Expanded width for the popup */
            max-height: 80%; /* Expanded height for the popup */
            overflow-y: auto; /* Add scroll for overflow content */
            text-align: left;
            position: relative;
        }
        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
            color: #555;
        }
        .recipe-details {
            display: flex;
        }
        .recipe-image {
            flex: 1;
        }
        .recipe-image img {
            max-width: 100%;
            border-radius: 8px;
        }
        .recipe-description {
            flex: 2;
            margin-left: 20px;
        }
        .recipe-info {
            margin-top: 20px;
        }
        .recipe-info h2 {
            margin-bottom: 10px;
        }
        .recipe-info ul, .recipe-info ol {
            margin-left: 20px;
        }
    </style>
</head>
<body>
    <div class="banner">
        <div class="navbar">
            <img src="pics/logo.png" class="logo" alt="Pnoy Dishcovery Logo">
            <form class="search-bar" onsubmit="searchRecipe(event)">
                <input type="text" id="searchQuery" name="search_query" placeholder="Search...">
                <button type="submit">
                    <ion-icon name="search-outline"></ion-icon>
                </button>
            </form>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="recipe.html">Recipes</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="login.html">Log in</a></li>
            </ul>
            <!-- Add Recipe Button -->
            <button class="add-recipe-button" onclick="showAddRecipeForm()">Add Recipe</button>
        </div>
    </div>

    <!-- Add your recipe container here -->
    <div class="recipes-container" id="recipesContainer">
        <!-- Recipe cards -->
        <div class="recipe-card" onclick="showRecipeDetails('Sinigang')">
            <img src="pics/sinigang.jpg" alt="Sinigang">
            <h2 class="recipe-title">Sinigang</h2>
            <p class="recipe-description">A sour Filipino soup typically associated with tamarind. It is often cooked with pork, beef, shrimp, or fish.</p>
        </div>
        <div class="recipe-card" onclick="showRecipeDetails('Adobo')">
            <img src="pics/adobo.jpg" alt="Adobo">
            <h2 class="recipe-title">Adobo</h2>
            <p class="recipe-description">A Filipino chicken dish marinated in soy sauce, vinegar, and garlic, and then browned in oil, simmered until tender, and served with the reduced marinade.</p>
        </div>
        <div class="recipe-card" onclick="showRecipeDetails('Kare-Kare')">
            <img src="pics/karekare.jpg" alt="Kare-Kare">
            <h2 class="recipe-title">Kare-Kare</h2>
            <p class="recipe-description">A Filipino stew characterized by its rich peanut sauce. It is typically made with oxtail, tripe, and vegetables such as eggplant, banana flower, and string beans.</p>
        </div>
        <div class="recipe-card" onclick="showRecipeDetails('Lumpiang Shanghai')">
            <img src="pics/lumpia.jpg" alt="Lumpia">
            <h2 class="recipe-title">Lumpiang Shanghai</h2>
            <p class="recipe-description">Filipino-style spring rolls filled with ground pork, minced onions, carrots, and spices, wrapped in thin spring roll wrappers and deep-fried until crispy.</p>
        </div>
        <!-- Add more recipe cards with images as needed -->
    </div>

    <!-- Add Recipe Form Popup -->
<div class="popup-overlay" id="addRecipeFormPopup">
  <div class="popup-content">
      <span class="close-btn" onclick="closeAddRecipeForm()">&times;</span>
      <h2>Add Recipe</h2>
      <form id="addRecipeForm" onsubmit="submitRecipe(event)">
          <!-- Form content goes here -->

                <label for="recipeTitle">Title:</label><br>
                <input type="text" id="recipeTitle" name="recipeTitle"><br><br>
                <label for="recipeDescription">Description:</label><br>
                <input type="text" id="recipeDescription" name="recipeDescription"><br><br>
                <label for="recipeMethod">Method:</label><br>
                <textarea id="recipeMethod" name="recipeMethod" rows="4" cols="50"></textarea><br><br>
                <label for="timeToCook">Time to Cook:</label><br>
                <input type="text" id="timeToCook" name="timeToCook"><br><br>
                <label for="calories">Calories:</label><br>
                <input type="text" id="calories" name="calories"><br><br>
                <label for="fats">Fats:</label><br>
                <input type="text" id="fats" name="fats"><br><br>
                <label for="carbs">Carbs:</label><br>
                <input type="text" id="carbs" name="carbs"><br><br>
                <label for="protein">Protein:</label><br>
                <input type="text" id="protein" name="protein"><br><br>
                <label for="recipeImage">Upload Image:</label><br>
                <input type="file" id="recipeImage" name="recipeImage" accept="image/*"><br><br>
                <input type="submit" value="Submit">
            </form>
        </div>
    </div>

    <!-- Recipe Popup -->
    <div class="popup-overlay" id="recipePopup">
        <div class="popup-content">
            <span class="close-btn" onclick="closePopup()">&times;</span>
            <div class="recipe-details">
                <div class="recipe-image">
                    <img id="popupRecipeImage" alt="Recipe Image">
                </div>
                <div class="recipe-description">
                    <h2 id="popupRecipeTitle"></h2>
                    <p id="popupRecipeDescription"></p>
                    <div class="recipe-info">
                        <h2>Ingredients</h2>
                        <ul id="popupIngredientsList">
                            <!-- Ingredients will be dynamically populated here -->
                        </ul>
                        <h2>Method</h2>
                        <ol id="popupMethodSteps">
                            <!-- Method steps will be dynamically populated here -->
                        </ol>
                        <h2>Time to Cook</h2>
                        <p id="popupTimeToCook"></p>
                        <h2>Nutritional Value</h2>
                        <p id="popupNutritionalValue"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        function searchRecipe(event) {
            event.preventDefault(); // Prevent the form from submitting
            const searchQuery = document.getElementById('searchQuery').value.toLowerCase();
            const recipeCards = document.querySelectorAll('.recipe-card');
            
            recipeCards.forEach(card => {
                const title = card.querySelector('.recipe-title').textContent.toLowerCase();
                const description = card.querySelector('.recipe-description').textContent.toLowerCase();
                
                if (title.includes(searchQuery) || description.includes(searchQuery)) {
                    card.style.display = 'block'; // Show the card if it matches the search query
                } else {
                    card.style.display = 'none'; // Hide the card if it doesn't match the search query
                }
            });
        }

        // Function to show recipe details popup
        function showRecipeDetails(recipeTitle) {
            const recipeData = getRecipeData(recipeTitle);
            const popup = document.getElementById('recipePopup');
            const popupRecipeImage = document.getElementById('popupRecipeImage');
            const popupRecipeTitle = document.getElementById('popupRecipeTitle');
            const popupRecipeDescription = document.getElementById('popupRecipeDescription');
            const popupIngredientsList = document.getElementById('popupIngredientsList');
            const popupMethodSteps = document.getElementById('popupMethodSteps');
            const popupTimeToCook = document.getElementById('popupTimeToCook');
            const popupNutritionalValue = document.getElementById('popupNutritionalValue');

            // Set popup content
            let imagePath = ''; // Variable to store the image path

            // Determine the image path based on recipeTitle
            if (recipeTitle === 'Kare-Kare') {
                imagePath = 'pics/karekare.jpg';
            } else if (recipeTitle === 'Lumpiang Shanghai') {
                imagePath = 'pics/lumpia.jpg';
            } else {
                imagePath = `pics/${recipeTitle.toLowerCase().replace(' ', '-')}.jpg`;
            }

            popupRecipeImage.src = imagePath; // Set the image src
            popupRecipeTitle.textContent = recipeData.title;
            popupRecipeDescription.textContent = recipeData.description;
            popupIngredientsList.innerHTML = '';
            recipeData.ingredients.forEach(ingredient => {
                const li = document.createElement('li');
                li.textContent = ingredient;
                popupIngredientsList.appendChild(li);
            });
            popupMethodSteps.innerHTML = '';
            recipeData.method.forEach(step => {
                const li = document.createElement('li');
                li.textContent = step;
                popupMethodSteps.appendChild(li);
            });
            popupTimeToCook.textContent = `Time to cook: ${recipeData.timeToCook}`;
            popupNutritionalValue.textContent = recipeData.nutritionalValue;

            // Show the popup
            popup.style.display = 'flex';
        }

        // Function to close the recipe popup
        function closePopup() {
            const popup = document.getElementById('recipePopup');
            popup.style.display = 'none';
        }

        // Function to show add recipe form popup
        function showAddRecipeForm() {
            const addRecipeFormPopup = document.getElementById('addRecipeFormPopup');
            addRecipeFormPopup.style.display = 'block';
        }

        // Function to close add recipe form popup
        function closeAddRecipeForm() {
            const addRecipeFormPopup = document.getElementById('addRecipeFormPopup');
            addRecipeFormPopup.style.display = 'none';
        }

        // Function to handle adding a new recipe
        function submitRecipe(event) {
            event.preventDefault(); // Prevent the form from submitting
            // Add your logic to handle adding a new recipe here
            alert("Functionality to add a new recipe will be implemented here.");
        }

        // Dummy function to get recipe data (replace with actual data retrieval logic)
        function getRecipeData(recipeTitle) {
            const recipes = {
                "Sinigang": {
                    title: "Sinigang",
                    description: "A sour Filipino soup typically associated with tamarind. It is often cooked with pork, beef, shrimp, or fish.",
                    ingredients: ["Pork", "Tamarind", "Vegetables"],
                    method: ["Step 1: Boil pork with tamarind for 1 hour", "Step 2: Add vegetables and simmer for 15 minutes", "Step 3: Serve hot"],
                    timeToCook: "1 hour 15 minutes",
                    nutritionalValue: "Calories: 250, Fat: 10g, Carbs: 20g, Protein: 15g"
                },
                "Adobo": {
                    title: "Adobo",
                    description: "A Filipino chicken dish marinated in soy sauce, vinegar, and garlic, and then browned in oil, simmered until tender, and served with the reduced marinade.",
                    ingredients: ["Chicken", "Soy sauce", "Vinegar", "Garlic"],
                    method: ["Step 1: Marinate chicken in soy sauce, vinegar, and garlic for 1 hour", "Step 2: Brown chicken in oil", "Step 3: Simmer until tender for 30 minutes", "Step 4: Serve with reduced marinade"],
                    timeToCook: "1 hour 30 minutes",
                    nutritionalValue: "Calories: 300, Fat: 12g, Carbs: 25g, Protein: 20g"
                },
                "Kare-Kare": {
                    title: "Kare-Kare",
                    description: "A Filipino stew characterized by its rich peanut sauce. It is typically made with oxtail, tripe, and vegetables such as eggplant, banana flower, and string beans.",
                    ingredients: ["Oxtail", "Tripe", "Peanut sauce", "Vegetables"],
                    method: ["Step 1: Boil oxtail and tripe until tender", "Step 2: Add peanut sauce and vegetables", "Step 3: Simmer until vegetables are cooked", "Step 4: Serve hot"],
                    timeToCook: "2 hours",
                    nutritionalValue: "Calories: 350, Fat: 15g, Carbs: 30g, Protein: 25g"
                },
                "Lumpiang Shanghai": {
                    title: "Lumpiang Shanghai",
                    description: "Filipino-style spring rolls filled with ground pork, minced onions, carrots, and spices, wrapped in thin spring roll wrappers and deep-fried until crispy.",
                    ingredients: ["Ground pork", "Onions", "Carrots", "Spring roll wrappers"],
                    method: ["Step 1: Mix ground pork, onions, carrots, and spices", "Step 2: Wrap mixture in spring roll wrappers", "Step 3: Deep-fry until crispy", "Step 4: Serve hot"],
                    timeToCook: "45 minutes",
                    nutritionalValue: "Calories: 200, Fat: 8g, Carbs: 15g, Protein: 10g"
                }
            };
            return recipes[recipeTitle];
        }

    </script>
</body>
</html>
